$(".comment-errors-<%= resource.class.name.humanize.downcase %>_<%= resource.id %>").html('<%= render 'shared/errors', resource: comment %>');

<% unless comment.errors.present? %>
  $("#comments-posted-<%= resource.class.name.humanize.downcase %>_<%= resource.id %>").append('<%= j render comment %>');
  $('#comment-posted').val('');

  $flash = $('#flash_messages').html('<%= j flash.now[:notice] %>').delay(2000).slideUp('slow');
  $flash.show().removeClass().addClass('notice');
<% else %>
  $flash = $('#flash_messages').html('<%= j flash.now[:error] %>').delay(2000).slideUp('slow');
  $flash.show().addClass('error');
<% end %>
